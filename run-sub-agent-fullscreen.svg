<?xml version="1.0" encoding="UTF-8"?>
<svg width="1440" height="900" viewBox="0 0 1440 900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .bg { fill: #f1f5f9; }
      .panel { fill: #ffffff; stroke: #e2e8f0; stroke-width: 1; }
      .panel-soft { fill: #f8fafc; stroke: #e2e8f0; stroke-width: 1; }
      .panel-subtle { fill: #f1f5f9; }
      .muted { fill: #64748b; font: 12px "Inter", "Arial", sans-serif; }
      .label { fill: #0f172a; font: 12px "Inter", "Arial", sans-serif; }
      .title { fill: #0f172a; font: 600 18px "Inter", "Arial", sans-serif; }
      .h1 { fill: #0f172a; font: 600 22px "Inter", "Arial", sans-serif; }
      .section { fill: #0f172a; font: 600 12px "Inter", "Arial", sans-serif; letter-spacing: 0.2px; }
      .chip { fill: #eef2ff; stroke: #c7d2fe; stroke-width: 1; }
      .chip-text { fill: #4338ca; font: 11px "Inter", "Arial", sans-serif; }
      .chip-warn { fill: #fef3c7; stroke: #fde68a; stroke-width: 1; }
      .chip-warn-text { fill: #b45309; font: 11px "Inter", "Arial", sans-serif; }
      .accent { fill: #6366f1; }
      .divider { stroke: #e2e8f0; stroke-width: 1; }
      .track { stroke: #c7d2fe; stroke-width: 2; }
      .mono { fill: #0f172a; font: 11px "SFMono-Regular", "Menlo", "Consolas", monospace; }
      .small { fill: #64748b; font: 10px "Inter", "Arial", sans-serif; }
    </style>
  </defs>

  <rect class="bg" x="0" y="0" width="1440" height="900" />

  <!-- Header -->
  <rect class="panel" x="0" y="0" width="1440" height="72" rx="0" />
  <circle cx="36" cy="36" r="16" fill="#eef2ff" />
  <text class="title" x="60" y="40">run_sub_agent</text>
  <text class="muted" x="60" y="58">job_42 - design-ops v2.1 - gpt-4.1</text>

  <rect class="chip" x="330" y="24" width="66" height="24" rx="999" />
  <text class="chip-text" x="346" y="40">Agent</text>
  <rect class="chip-warn" x="402" y="24" width="74" height="24" rx="999" />
  <text class="chip-warn-text" x="418" y="40">Running</text>
  <rect class="chip" x="482" y="24" width="80" height="24" rx="999" />
  <text class="chip-text" x="498" y="40">Live 12s</text>

  <rect class="panel-soft" x="1080" y="20" width="90" height="32" rx="10" />
  <text class="label" x="1106" y="40">Cancel</text>
  <rect class="panel-soft" x="1180" y="20" width="90" height="32" rx="10" />
  <text class="label" x="1208" y="40">Copy</text>
  <rect class="panel-soft" x="1280" y="20" width="90" height="32" rx="10" />
  <text class="label" x="1312" y="40">Raw</text>

  <!-- Body layout -->
  <rect class="panel" x="32" y="96" width="900" height="772" rx="16" />
  <rect class="panel" x="952" y="96" width="456" height="772" rx="16" />

  <!-- Left: Process timeline -->
  <text class="h1" x="56" y="130">Process timeline</text>
  <text class="muted" x="56" y="150">Timeline view for live steps.</text>

  <line class="track" x1="80" y1="186" x2="80" y2="586" />

  <rect class="panel-soft" x="104" y="170" width="808" height="52" rx="12" />
  <circle cx="80" cy="196" r="7" class="accent" />
  <text class="label" x="120" y="198">1. Plan layout for popover</text>
  <text class="small" x="820" y="198">1.4s</text>
  <text class="small" x="120" y="214">assistant - outline sections + chips</text>

  <rect class="panel-soft" x="104" y="232" width="808" height="52" rx="12" />
  <circle cx="80" cy="258" r="7" class="accent" />
  <text class="label" x="120" y="260">2. Draft fullscreen structure</text>
  <text class="small" x="820" y="260">2.2s</text>
  <text class="small" x="120" y="276">assistant - split view, output, raw panels</text>

  <rect class="panel-soft" x="104" y="294" width="808" height="52" rx="12" />
  <circle cx="80" cy="320" r="7" class="accent" />
  <text class="label" x="120" y="322">3. Tool call svg_writer</text>
  <text class="small" x="820" y="322">0.8s</text>
  <text class="small" x="120" y="338">tool_call - call_id t_12</text>

  <rect class="panel-soft" x="104" y="356" width="808" height="52" rx="12" />
  <circle cx="80" cy="382" r="7" class="accent" />
  <text class="label" x="120" y="384">4. Tool result svg_writer</text>
  <text class="small" x="820" y="384">0.3s</text>
  <text class="small" x="120" y="400">tool_result - SVG assets saved</text>

  <rect class="panel-soft" x="104" y="418" width="808" height="52" rx="12" />
  <circle cx="80" cy="444" r="7" class="accent" />
  <text class="label" x="120" y="446">5. Final response prepared</text>
  <text class="small" x="820" y="446">0.5s</text>
  <text class="small" x="120" y="462">assistant - summary + next steps</text>

  <rect class="panel-soft" x="104" y="480" width="808" height="52" rx="12" />
  <circle cx="80" cy="506" r="7" class="accent" />
  <text class="label" x="120" y="508">6. Run completed</text>
  <text class="small" x="820" y="508">12.4s</text>
  <text class="small" x="120" y="524">notice - 5 tools used</text>

  <rect class="panel-soft" x="56" y="560" width="856" height="128" rx="12" />
  <text class="section" x="76" y="588">Key notes</text>
  <text class="mono" x="76" y="610">- Timeline keeps ordering clear and compact</text>
  <text class="mono" x="76" y="630">- Each step shows type, time, and summary</text>
  <text class="mono" x="76" y="650">- Raw JSON always reachable in sidebar</text>

  <rect class="panel-soft" x="56" y="700" width="856" height="120" rx="12" />
  <text class="section" x="76" y="728">Output preview</text>
  <text class="mono" x="76" y="750">- Popover layout optimized for quick scan</text>
  <text class="mono" x="76" y="770">- Fullscreen timeline + metadata cards</text>

  <!-- Right: Result + metadata -->
  <text class="h1" x="976" y="130">Result</text>
  <text class="muted" x="976" y="150">Final output and key metadata.</text>

  <rect class="panel-soft" x="976" y="176" width="408" height="138" rx="14" />
  <text class="section" x="996" y="204">Summary</text>
  <text class="mono" x="996" y="226">Popover: compact summary + live steps</text>
  <text class="mono" x="996" y="246">Fullscreen: split view + timeline</text>
  <text class="mono" x="996" y="266">Raw JSON toggles in sidebar</text>

  <rect class="panel-soft" x="976" y="324" width="408" height="110" rx="14" />
  <text class="section" x="996" y="352">Task</text>
  <text class="muted" x="996" y="374">Redesign run_sub_agent popover + fullscreen</text>

  <rect class="panel-soft" x="976" y="444" width="408" height="178" rx="14" />
  <text class="section" x="996" y="472">Metrics</text>
  <text class="label" x="996" y="498">Elapsed</text>
  <text class="label" x="1134" y="498">Tokens</text>
  <text class="label" x="1240" y="498">Tools</text>
  <text class="muted" x="996" y="520">12.4s</text>
  <text class="muted" x="1134" y="520">2,104</text>
  <text class="muted" x="1240" y="520">5</text>
  <line class="divider" x1="996" y1="536" x2="1364" y2="536" />
  <text class="label" x="996" y="560">Model</text>
  <text class="muted" x="996" y="580">gpt-4.1 mini</text>
  <text class="label" x="996" y="608">Skills</text>
  <text class="muted" x="996" y="628">ui, svg, product</text>

  <rect class="panel-soft" x="976" y="632" width="408" height="200" rx="14" />
  <text class="section" x="996" y="660">Raw data</text>
  <rect class="panel" x="996" y="674" width="176" height="34" rx="10" />
  <text class="label" x="1012" y="696">Args JSON</text>
  <rect class="panel" x="1188" y="674" width="176" height="34" rx="10" />
  <text class="label" x="1204" y="696">Result JSON</text>
  <rect class="panel" x="996" y="716" width="368" height="92" rx="12" />
  <text class="mono" x="1010" y="740">{ "agent_id": "design-ops" ... }</text>
  <text class="mono" x="1010" y="760">{ "response": "..." }</text>
</svg>
